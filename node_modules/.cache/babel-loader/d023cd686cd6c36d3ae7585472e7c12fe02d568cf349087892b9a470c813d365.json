{"ast":null,"code":"import { openDB } from 'idb';\nconst dbName = 'PokedexDB';\nconst storeName = 'pokemons';\nconst version = 1;\nconst dbPromise = openDB(dbName, version, {\n  upgrade(db) {\n    if (!db.objectStoreNames.contains(storeName)) {\n      db.createObjectStore(storeName, {\n        keyPath: 'id'\n      });\n    }\n  }\n});\nexport const getPokemons = async () => {\n  const db = await dbPromise;\n  const tx = db.transaction(storeName, 'readonly');\n  const store = tx.objectStore(storeName);\n  return store.getAll();\n};\nexport const getPokemon = async id => {\n  const db = await dbPromise;\n  const tx = db.transaction(storeName, 'readonly');\n  const store = tx.objectStore(storeName);\n  return store.get(id);\n};\nexport const savePokemon = async pokemon => {\n  console.log('Saving Pokémon to IndexedDB:', pokemon); // Log the data being saved\n  const db = await dbPromise;\n  const tx = db.transaction(storeName, 'readwrite');\n  const store = tx.objectStore(storeName);\n  store.put(pokemon);\n  return tx.done;\n};","map":{"version":3,"names":["openDB","dbName","storeName","version","dbPromise","upgrade","db","objectStoreNames","contains","createObjectStore","keyPath","getPokemons","tx","transaction","store","objectStore","getAll","getPokemon","id","get","savePokemon","pokemon","console","log","put","done"],"sources":["C:/Users/Dev/Desktop/Pokedex/src/indexedDB.js"],"sourcesContent":["import { openDB } from 'idb';\r\n\r\nconst dbName = 'PokedexDB';\r\nconst storeName = 'pokemons';\r\nconst version = 1;\r\n\r\nconst dbPromise = openDB(dbName, version, {\r\n  upgrade(db) {\r\n    if (!db.objectStoreNames.contains(storeName)) {\r\n      db.createObjectStore(storeName, { keyPath: 'id' });\r\n    }\r\n  },\r\n});\r\n\r\nexport const getPokemons = async () => {\r\n  const db = await dbPromise;\r\n  const tx = db.transaction(storeName, 'readonly');\r\n  const store = tx.objectStore(storeName);\r\n  return store.getAll();\r\n};\r\n\r\nexport const getPokemon = async (id) => {\r\n  const db = await dbPromise;\r\n  const tx = db.transaction(storeName, 'readonly');\r\n  const store = tx.objectStore(storeName);\r\n  return store.get(id);\r\n};\r\n\r\nexport const savePokemon = async (pokemon) => {\r\n  console.log('Saving Pokémon to IndexedDB:', pokemon); // Log the data being saved\r\n  const db = await dbPromise;\r\n  const tx = db.transaction(storeName, 'readwrite');\r\n  const store = tx.objectStore(storeName);\r\n  store.put(pokemon);\r\n  return tx.done;\r\n};\r\n"],"mappings":"AAAA,SAASA,MAAM,QAAQ,KAAK;AAE5B,MAAMC,MAAM,GAAG,WAAW;AAC1B,MAAMC,SAAS,GAAG,UAAU;AAC5B,MAAMC,OAAO,GAAG,CAAC;AAEjB,MAAMC,SAAS,GAAGJ,MAAM,CAACC,MAAM,EAAEE,OAAO,EAAE;EACxCE,OAAOA,CAACC,EAAE,EAAE;IACV,IAAI,CAACA,EAAE,CAACC,gBAAgB,CAACC,QAAQ,CAACN,SAAS,CAAC,EAAE;MAC5CI,EAAE,CAACG,iBAAiB,CAACP,SAAS,EAAE;QAAEQ,OAAO,EAAE;MAAK,CAAC,CAAC;IACpD;EACF;AACF,CAAC,CAAC;AAEF,OAAO,MAAMC,WAAW,GAAG,MAAAA,CAAA,KAAY;EACrC,MAAML,EAAE,GAAG,MAAMF,SAAS;EAC1B,MAAMQ,EAAE,GAAGN,EAAE,CAACO,WAAW,CAACX,SAAS,EAAE,UAAU,CAAC;EAChD,MAAMY,KAAK,GAAGF,EAAE,CAACG,WAAW,CAACb,SAAS,CAAC;EACvC,OAAOY,KAAK,CAACE,MAAM,CAAC,CAAC;AACvB,CAAC;AAED,OAAO,MAAMC,UAAU,GAAG,MAAOC,EAAE,IAAK;EACtC,MAAMZ,EAAE,GAAG,MAAMF,SAAS;EAC1B,MAAMQ,EAAE,GAAGN,EAAE,CAACO,WAAW,CAACX,SAAS,EAAE,UAAU,CAAC;EAChD,MAAMY,KAAK,GAAGF,EAAE,CAACG,WAAW,CAACb,SAAS,CAAC;EACvC,OAAOY,KAAK,CAACK,GAAG,CAACD,EAAE,CAAC;AACtB,CAAC;AAED,OAAO,MAAME,WAAW,GAAG,MAAOC,OAAO,IAAK;EAC5CC,OAAO,CAACC,GAAG,CAAC,8BAA8B,EAAEF,OAAO,CAAC,CAAC,CAAC;EACtD,MAAMf,EAAE,GAAG,MAAMF,SAAS;EAC1B,MAAMQ,EAAE,GAAGN,EAAE,CAACO,WAAW,CAACX,SAAS,EAAE,WAAW,CAAC;EACjD,MAAMY,KAAK,GAAGF,EAAE,CAACG,WAAW,CAACb,SAAS,CAAC;EACvCY,KAAK,CAACU,GAAG,CAACH,OAAO,CAAC;EAClB,OAAOT,EAAE,CAACa,IAAI;AAChB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}